<!DOCTYPE html>
    <head>
        <title>
            Rohan Goyal's page
        </title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
         <link rel="shortcut icon" type="image/x-icon" href="images/icon.jpg" />
    </head>
    <body>

        <canvas id="mycanvas"></canvas>
        <script>
            $( document ).ready(function() {
                var snd = new Audio("sounds/start.mp3");
                snd.addEventListener('ended',function(){
                    var restsnd=new Audio('sounds/accelerate.mp3');
                    restsnd.addEventListener('ended',function(){
                        this.currentTime=0;
                        this.play();
                    },false);
                    restsnd.play();
                },false);
                snd.play();
            });
            var xhead={seed:500};
            var load={statuscar:false,statusline:false};
            var canvas=document.getElementById('mycanvas');
            canvas.width=$(window).innerWidth();
            canvas.height=$(window).innerHeight()
            var ctx=canvas.getContext('2d');
            window.addEventListener('keydown',whatKey,true);
            var initiator={init:500};
            implementor();
            make_base();
            function plotBaseLine()
            {
                var base_image = new Image();
                base_image.src = 'images/linepath/grass.png';
                if(load.statusline==false)
                {
                    base_image.onload = function()
                    {
                        ctx.drawImage(base_image, -200,0.8*canvas.height-90,1.5*canvas.width,120);
                    }
                    load.statusline=true;
                }
                else
                {
                    ctx.drawImage(base_image, -200,0.8*canvas.height-90,1.5*canvas.width,120);
                }
            }
            function plotRect(x,y,h,w,color,xheader)
            {
                ctx.fillStyle=color;
                ctx.fillRect(x,y,h,w);
                xheader.seed+=h;
                return xheader;
            }
            function make_base()
            {
              var base_image = new Image();
              base_image.src = 'images/linepath/car.png';
              if(load.statuscar==false)
              {
                  base_image.onload = function()
                  {
                      ctx.drawImage(base_image, 50,0.95*canvas.height-110,300,120);
                  }
                  load.statuscar=true;
              }
              else
              {
                  ctx.drawImage(base_image, 50,0.95*canvas.height-110,300,120);
              }
            }
            function whatKey(e) {
                switch(e.keyCode)
                {
                    case 37:
                        if(initiator.init<500)
                        {
                            initiator.init+=5;
                        }
                        xhead.seed=initiator.init;
                        implementor();
                        make_base();
                        break;
                    case 39:
                        initiator.init-=10;
                        xhead.seed=initiator.init;
                        implementor();
                        make_base();
                        break;
                    case 40:
                        if(initiator.init<500)
                        {
                            initiator.init+=5;
                        }
                        xhead.seed=initiator.init;
                        implementor();
                        make_base();
                        break;
                    case 38:
                        initiator.init-=10;
                        xhead.seed=initiator.init;
                        implementor();
                        make_base();
                        break;
                }
            }
            function implementor()
            {
                ctx.clearRect(0,0,canvas.width,canvas.height);
                var y=canvas.height*0.8;
                xhead=plotRect(xhead.seed,y-100,100,100,"green",xhead);
                xhead=plotRect(xhead.seed,y-200,100,200,"black",xhead);
                xhead=plotRect(xhead.seed,y-300,150,300,"orange",xhead);
                xhead=plotRect(xhead.seed,y-400,100,400,"maroon",xhead);

                xhead=plotRect(xhead.seed,y-100,100,100,"green",xhead);
                xhead=plotRect(xhead.seed,y-200,100,200,"black",xhead);
                xhead=plotRect(xhead.seed,y-300,150,300,"orange",xhead);
                xhead=plotRect(xhead.seed,y-400,100,400,"maroon",xhead);

                xhead=plotRect(xhead.seed,y-100,100,100,"green",xhead);
                xhead=plotRect(xhead.seed,y-200,100,200,"black",xhead);
                xhead=plotRect(xhead.seed,y-300,150,300,"orange",xhead);
                xhead=plotRect(xhead.seed,y-400,100,400,"maroon",xhead);

                xhead=plotRect(xhead.seed,y-100,100,100,"green",xhead);
                xhead=plotRect(xhead.seed,y-200,100,200,"black",xhead);
                xhead=plotRect(xhead.seed,y-300,150,300,"orange",xhead);
                xhead=plotRect(xhead.seed,y-400,100,400,"maroon",xhead);

                xhead=plotRect(xhead.seed,y-100,100,100,"green",xhead);
                xhead=plotRect(xhead.seed,y-200,100,200,"black",xhead);
                xhead=plotRect(xhead.seed,y-300,150,300,"orange",xhead);
                xhead=plotRect(xhead.seed,y-400,100,400,"maroon",xhead);

                xhead=plotRect(xhead.seed,y-100,100,100,"green",xhead);
                xhead=plotRect(xhead.seed,y-200,100,200,"black",xhead);
                xhead=plotRect(xhead.seed,y-300,150,300,"orange",xhead);
                xhead=plotRect(xhead.seed,y-400,100,400,"maroon",xhead);

                xhead=plotRect(xhead.seed,y-100,100,100,"green",xhead);
                xhead=plotRect(xhead.seed,y-200,100,200,"black",xhead);
                xhead=plotRect(xhead.seed,y-300,150,300,"orange",xhead);
                xhead=plotRect(xhead.seed,y-400,100,400,"maroon",xhead);

                xhead=plotRect(xhead.seed,y-100,100,100,"green",xhead);
                xhead=plotRect(xhead.seed,y-200,100,200,"black",xhead);
                xhead=plotRect(xhead.seed,y-300,150,300,"orange",xhead);
                xhead=plotRect(xhead.seed,y-400,100,400,"maroon",xhead);

                xhead=plotRect(xhead.seed,y-100,100,100,"green",xhead);
                xhead=plotRect(xhead.seed,y-200,100,200,"black",xhead);
                xhead=plotRect(xhead.seed,y-300,150,300,"orange",xhead);
                xhead=plotRect(xhead.seed,y-400,100,400,"maroon",xhead);

                xhead=plotRect(xhead.seed,y-100,100,100,"green",xhead);
                xhead=plotRect(xhead.seed,y-200,100,200,"black",xhead);
                xhead=plotRect(xhead.seed,y-300,150,300,"orange",xhead);
                xhead=plotRect(xhead.seed,y-400,100,400,"maroon",xhead);

                xhead=plotRect(xhead.seed,y-100,100,100,"green",xhead);
                xhead=plotRect(xhead.seed,y-200,100,200,"black",xhead);
                xhead=plotRect(xhead.seed,y-300,150,300,"orange",xhead);
                xhead=plotRect(xhead.seed,y-400,100,400,"maroon",xhead);

                xhead=plotRect(xhead.seed,y-100,100,100,"green",xhead);
                xhead=plotRect(xhead.seed,y-200,100,200,"black",xhead);
                xhead=plotRect(xhead.seed,y-300,150,300,"orange",xhead);
                xhead=plotRect(xhead.seed,y-400,100,400,"maroon",xhead);

                xhead=plotRect(xhead.seed,y-100,100,100,"green",xhead);
                xhead=plotRect(xhead.seed,y-200,100,200,"black",xhead);
                xhead=plotRect(xhead.seed,y-300,150,300,"orange",xhead);
                xhead=plotRect(xhead.seed,y-400,100,400,"maroon",xhead);
                plotBaseLine();
            }
        </script>
    </body>
</html>
<style>
#mycanvas
{
    background:url('images/bg.jpg');
    background-size: cover;
    left:0;
    top:0;
    bottom:0;
    position: fixed;
}
</style>
